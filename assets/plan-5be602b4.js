import{u as z}from"./useLoading-d20fdbfd.js";import{b as v,A as I,d as P,r as h,o,c,a as t,w as A,F as m,g as b,O as B,f as V,p as $,l as q,t as r,n as D,e as k,k as _,P as E,h as O,j as H,_ as J}from"./index-338f6742.js";import{l as S}from"./lodash-a2725ec0.js";var M={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M922.9 701.9H327.4l29.9-60.9 496.8-.9c16.8 0 31.2-12 34.2-28.6l68.8-385.1c1.8-10.1-.9-20.5-7.5-28.4a34.99 34.99 0 00-26.6-12.5l-632-2.1-5.4-25.4c-3.4-16.2-18-28-34.6-28H96.5a35.3 35.3 0 100 70.6h125.9L246 312.8l58.1 281.3-74.8 122.1a34.96 34.96 0 00-3 36.8c6 11.9 18.1 19.4 31.5 19.4h62.8a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7h161.1a102.43 102.43 0 00-20.6 61.7c0 56.6 46 102.6 102.6 102.6s102.6-46 102.6-102.6c0-22.3-7.4-44-20.6-61.7H923c19.4 0 35.3-15.8 35.3-35.3a35.42 35.42 0 00-35.4-35.2zM305.7 253l575.8 1.9-56.4 315.8-452.3.8L305.7 253zm96.9 612.7c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6zm325.1 0c-17.4 0-31.6-14.2-31.6-31.6 0-17.4 14.2-31.6 31.6-31.6s31.6 14.2 31.6 31.6a31.6 31.6 0 01-31.6 31.6z"}}]},name:"shopping-cart",theme:"outlined"};const T=M;function w(n){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?Object(arguments[s]):{},d=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(a).filter(function(u){return Object.getOwnPropertyDescriptor(a,u).enumerable}))),d.forEach(function(u){U(n,u,a[u])})}return n}function U(n,s,a){return s in n?Object.defineProperty(n,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[s]=a,n}var y=function(s,a){var d=w({},s,a.attrs);return v(I,w({},d,{icon:T}),null)};y.displayName="ShoppingCartOutlined";y.inheritAttrs=!1;const G=y,i=n=>($("data-v-bd049ded"),n=n(),q(),n),Q={class:"bg-top-img mt-[15px] rounded-xl px-[15px]"},R=i(()=>t("div",{class:"text-white flex items-center justify-center flex-col pt-[25px]"},[t("div",{class:"font-bold text-3xl"},"选择适合你的订阅计划"),t("div",{class:"font-medium mt-5 text-lg text-center"},[t("div",null,"#限时套餐：可按月,按季购买,限制时间和流量。"),t("div",null,"#限量套餐：按量购买,不限时间,流量用完即止。")])],-1)),W={class:"flex justify-center mt-5"},X={class:"px-5 py-2"},Y={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4 gap-[15px] mt-[20px] justify-items-center"},Z={key:0,class:"hot_en"},K={class:"text-center font-black mb-[15px] hot-text"},ee={key:1,class:"text-center text-4xl font-black"},te=i(()=>t("span",{class:"text-[12px] text-[#999]"},"/月付",-1)),se={key:2,class:"text-center text-4xl font-black"},ne=i(()=>t("span",{class:"text-[12px] text-[#999]"},"/季付",-1)),ae={key:3,class:"text-center text-4xl font-black"},oe=i(()=>t("span",{class:"text-[12px] text-[#999]"},"/半年付",-1)),ce={key:4,class:"text-center text-4xl font-black"},re=i(()=>t("span",{class:"text-[12px] text-[#999]"},"/年付",-1)),le={key:5,class:"text-center text-4xl font-black"},ie=i(()=>t("span",{class:"text-[12px] text-[#999]"},"/两年付",-1)),de={key:6,class:"text-center text-4xl font-black"},pe=i(()=>t("span",{class:"text-[12px] text-[#999]"},"/三年付",-1)),_e={key:7,class:"text-center text-4xl font-black"},ue=i(()=>t("span",{class:"text-[12px] text-[#999]"},"/一次性付",-1)),xe={class:"flex-1"},he=["onClick"],fe=i(()=>t("span",{class:"ml-[5px]"},"购买",-1)),ve=P({__name:"plan",setup(n){const s=h([]),a=h([]),d=h("限时套餐"),u=h([{value:"限时套餐"},{value:"限量套餐"}]),{setLoading:f}=z(),C=p=>{try{return JSON.parse(p)}catch(l){return console.error("Invalid JSON format:",l),[]}};async function F(){try{f(!0);const p=await B();a.value=p.data,g("限时套餐"),f(!1)}catch(p){f(!1),console.log(p)}}function g(p){p=="限时套餐"?s.value=S.filter(a.value,l=>{if(!l.onetime_price)return l}):s.value=S.filter(a.value,l=>{if(l.onetime_price)return l})}return F(),(p,l)=>{const j=V("a-segmented");return o(),c("div",null,[t("div",Q,[R,t("div",W,[v(j,{value:d.value,"onUpdate:value":l[0]||(l[0]=e=>d.value=e),options:u.value,onChange:g},{label:A(({value:e})=>[t("div",X,[t("div",null,r(e),1)])]),_:1},8,["value","options"])]),t("div",Y,[(o(!0),c(m,null,b(s.value,(e,L)=>(o(),c("div",{key:L,class:D([{hot:e.name&&e.name.includes("火爆")},"rounded-md w-full border cursor-pointer py-[15px] px-[30px] bg-white shadow-md flex flex-col relative overflow-hidden"])},[e.name&&e.name.includes("火爆")?(o(),c("div",Z,"火爆")):k("",!0),t("div",K,r(e.name),1),e.month_price?(o(),c("div",ee,[_("¥"+r(e.month_price?(e.month_price/100).toFixed(2):"0.00")+" ",1),te])):e.quarter_price?(o(),c("div",se,[_("¥"+r(e.quarter_price?(e.quarter_price/100).toFixed(2):"0.00")+" ",1),ne])):e.half_year_price?(o(),c("div",ae,[_("¥"+r(e.half_year_price?(e.half_year_price/100).toFixed(2):"0.00")+" ",1),oe])):e.year_price?(o(),c("div",ce,[_("¥"+r(e.year_price?(e.year_price/100).toFixed(2):"0.00")+" ",1),re])):e.two_year_price?(o(),c("div",le,[_("¥"+r(e.two_year_price?(e.two_year_price/100).toFixed(2):"0.00")+" ",1),ie])):e.three_year_price?(o(),c("div",de,[_("¥"+r(e.three_year_price?(e.three_year_price/100).toFixed(2):"0.00")+" ",1),pe])):e.onetime_price?(o(),c("div",_e,[_("¥"+r(e.onetime_price?(e.onetime_price/100).toFixed(2):"0.00")+" ",1),ue])):k("",!0),t("div",xe,[t("ul",null,[(o(!0),c(m,null,b(C(e.content),(x,N)=>(o(),c("li",{key:N},[t("span",{style:E({color:x.color?x.color:"inherit"})},r(x.icon)+" "+r(x.feature),5)]))),128))])]),t("div",{onClick:x=>O(H).push(`/planDetail/${e.id}`),class:"flex items-center justify-center bg-theme text-white py-[10px] rounded mt-[20px] hot-but"},[v(O(G)),fe],8,he)],2))),128))])])])}}});const be=J(ve,[["__scopeId","data-v-bd049ded"]]);export{be as default};
